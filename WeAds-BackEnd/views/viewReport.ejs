<%- include('./partials/header') %>

<body>
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Họ tên người gửi</th>
        <th scope="col">Hình thức báo cáo</th>
        <th scope="col">Email</th>
        <th scope="col">Điện thoại</th>
        <th scope="col">Nội dung báo cáo</th>
      </tr>
    </thead>
    <tbody>
      
    </tbody>
  </table>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <script>
    const response = fetch('/api/weads-admin/report')
    .then((response) => response.json())
    .then((result) => {
      result.reports?.forEach((report, index) => {
        const row = document.createElement('tr');

        const number = document.createElement('th')
        number.innerText = index + 1;
        number.scope = 'row';
        const name = document.createElement('td')
        name.innerText = report.name;
        const type = document.createElement('td');
        type.innerText = report.reportType;
        const email = document.createElement('td');
        email.innerText = report.email;
        const phone = document.createElement('td');
        phone.innerText = report.phone;
        const content = document.createElement('td');
        content.innerText = report.content;
        
        row.appendChild(number);
        row.appendChild(name);
        row.appendChild(type);
        row.appendChild(email);
        row.appendChild(phone);
        row.appendChild(content);

        $('tbody').append(row);
      });
    })
  </script>
</body>