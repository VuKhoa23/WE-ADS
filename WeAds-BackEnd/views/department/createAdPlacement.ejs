<%- include('./partials/header') %>

<style>
    /* Add your custom CSS styles here */
    .container {
        max-width: 600px;
        margin-top: 50px;
        background-color: #f8f9fa; /* Set background color to a light shade */
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }


    label {
        font-weight: bold;
    }

    /* Custom style for input fields */
    .form-control {
        border: 1px solid #000; /* Set border color to black */
    }

    /* Add more styles as needed */

</style>

<div class="container mt-5">
    <h1 class="mb-4">Tạo Điểm đặt quảng cáo mới</h1>

    <form action="/weads/place/addAdPlacement" method="post" id="form">
        <div class="mb-3 form-group">
            <label for="coordinates" class="form-label">Tọa độ (Latitude, Longitude):</label>
            <input type="text" class="form-control" id="coordinates" name="coordinates" value="<%= lat %>, <%= lng %>" readonly>
        </div>

        <div class="mb-3 form-group">
            <label for="district" class="form-label">Quận:</label>
            <input type="text" class="form-control" id="district" name="district" value="<%= district %>" readonly>
        </div>

        <div class="mb-3 form-group">
            <label for="ward" class="form-label">Phường:</label>
            <input type="text" class="form-control" id="ward" name="ward" value="<%= ward %>" readonly>
        </div>

        <div class="mb-3 form-group" id="place">
            <label class="form-label">Loại vị trí:</label>
            <div>
                <% for (var i = 0; i < locationTypes.length; i++) { %>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="locationType<%= i %>" name="locationType[]" value="<%= locationTypes[i].name %>">
                        <label class="form-check-label" for="locationType<%= i %>"><%= locationTypes[i].name %></label>
                    </div>
                    <% if (i === 2) { %>
                        </div>
                        <div>
                    <% } %>
                <% } %>
            </div>
        </div>

        <div class="mb-3 form-group">
            <label for="adType" class="form-label">Hình thức quảng cáo:</label>
            <select class="form-control" id="adType" name="adType" required>
                <% adTypes.forEach(function(type) { %>
                    <option value="<%= type.name %>"><%= type.name %></option>
                <% }); %>
            </select>
        </div>

        <div class="mb-3 form-group">
            <label for="adPlanned" class="form-label">Quy hoạch (1: Đã quy hoạch, 0: Chưa quy hoạch):</label>
            <input type="number" min="0" max="1" class="form-control" id="adPlanned" name="adPlanned" required>
        </div>

        <button type="submit" class="btn btn-primary">Thêm Điểm đặt</button>
    </form>

    <a href="/weads/home">
        <button class="btn btn-secondary mt-3">
            <i class="bi bi-arrow-left-circle-fill"></i>
            Trở về
        </button>
    </a>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function(){
        const form = document.getElementById('form');
        form.addEventListener('submit', function(event){
            let count = 0;
            const inputs = document.querySelectorAll('.form-check-input');
            inputs.forEach(function(input){
                if(input.checked){
                    count++;
                }
            })
            if(count === 0){
                event.preventDefault();
                inputs.forEach(function(input){
                    input.style.border = 'solid #ff3333';
                })
                const place = document.getElementById('place');
                const alert = document.createElement('small');
                alert.innerHTML = 'Chọn ít nhất 1 loại vị trí';
                alert.style.color = '#ff3333';
                place.appendChild(alert);
            }
        })
    })
</script>

<%- include('./partials/footer') %>
